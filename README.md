# Rick ðŸ§™â€â™‚ï¸

ÐŸÑ€Ð¾ÑÑ‚Ð°Ñ PHP Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ° Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Telegram Bot Api.

Ready-for-use ÑˆÐ°Ð±Ð»Ð¾Ð½ Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð³Ð¾ ÑÑ‚Ð°Ñ€Ñ‚Ð° [aethletic/rick-template](https://github.com/aethletic/rick-template "aethletic/rick-template").

## Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°
```
$composer require aethletic/rick
```

## Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ
```php
use Aethletic\Telegram\Bot;

$rick = new Bot('1234:token', [
    'rick.logs' => true,
    'rick.logs_dir' => '/var/logs',
]);
```

## ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð±Ð¾Ñ‚Ð°
```php
use Aethletic\Telegram\Bot;

$rick = new Bot('1234:token');

$rick->hear('ÐŸÑ€Ð¸Ð²ÐµÑ‚', function() use ($rick) {
    $rick->say("Ð˜ Ñ‚ÐµÐ±Ðµ Ð¿Ñ€Ð¸Ð²ÐµÑ‚!");
});

$rick->run();
```


## getUpdates()
ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¸ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¹ Ð¼Ð°ÑÑÐ¸Ð² Ñ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸.
```php
$updates = $rick->getUpdates();

// Array
// (
//     [update_id] => 1234567890
//     [message] => Array
//         (
//             [message_id] => 1337
//             [from] => Array
//                 (
//                     [id] => 43643
//                     [is_bot] =>
//                     [first_name] => Pavel
//                     [username] => durov
//                     [language_code] => ru
//                 )
//
//             [chat] => Array
//                 (
//                     [id] => 43643
//                     [first_name] => Pavel
//                     [username] => durov
//                     [type] => private
//                 )
//
//             [date] => 1234567890
//             [text] => Hello World
//         )
//
// )
```

## getUser()
ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð½Ñ‹Ð¹ Ð¼Ð°ÑÑÐ¸Ð² $updates
```php
$user = $rick->getUser();
```

## say($message, $keyboard)
ÐžÑ‚Ð²ÐµÑ‚Ð¸Ñ‚ÑŒ Ð² Ñ‡Ð°Ñ‚, Ð¾Ñ‚ÐºÑƒÐ´Ð° Ð¿Ñ€Ð¸ÑˆÐ»Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ.

[ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾] `$message` Ñ‚ÐµÐºÑÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ;

[ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾] `$keyboard` ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð° ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ð°Ñ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð¼ `keyboard()` Ð¸Ð»Ð¸ `inline()`;

ÐŸÑ€Ð¾ÑÑ‚Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ:
```php
$rick->say('ÐŸÑ€Ð¸Ð²ÐµÑ‚ Ð¼Ð¸Ñ€!');
```
Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ðµ ÑÐ»Ð¾Ð²Ð° Ð¸Ð· ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ {{ÑÐ»Ð¾Ð²Ð¾1|ÑÐ»Ð¾Ð²Ð¾2}}
```php
$rick->say('{{ÐŸÑ€Ð¸Ð²ÐµÑ‚|Ð¥ÐµÐ»Ð»Ð¾Ñƒ|Ð¥Ð°Ð¹|Ð¥Ð°Ð»Ð¾|ÐÐ»Ð¾Ñ…Ð°|Ð¨Ð°Ð»Ð¾Ð¼}} Ð¼Ð¸Ñ€!');
```
Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ñ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð¾Ð¹:
```php
$rick->say('ÐŸÑ€Ð¸Ð²ÐµÑ‚ Ð¼Ð¸Ñ€!', $rick->keyboard([
	['ÐšÐ½Ð¾Ð¿ÐºÐ°1', 'ÐšÐ½Ð¾Ð¿ÐºÐ°2']
]));
```
Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ñ inline-ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð¾Ð¹
```php
$rick->say('ÐŸÑ€Ð¸Ð²ÐµÑ‚ Ð¼Ð¸Ñ€!', $rick->inline([
        [
            ['text' => 'ÐŸÐ¾Ð¸ÑÐº Ð² Google', 'url' => 'https://google.com'],
        ])
]);
```

## hear(string $message OR array $message, $callback)
Ð¡Ð²Ð¾ÐµÐ±Ñ€Ð°Ð·Ð½Ñ‹Ð¹ Ñ€Ð¾ÑƒÑ‚Ð¸Ð½Ð³ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹.

[ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾] `$message` ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ;
[ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾] `$callback` Ð°Ð½Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¸Ð»Ð¸ Ð¼ÐµÑ‚Ð¾Ð´ ÐºÐ»Ð°ÑÑÐ°;

ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ñ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð¼ **say()**:
```php
$rick->hear('ÐŸÑ€Ð¸Ð²ÐµÑ‚', function() use ($rick, $user) {
    $rick->say("ÐŸÑ€Ð¸Ð²ÐµÑ‚ {$user['firstname']}!");
});
```
Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, ÐµÑÐ»Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð½Ð°Ð¿Ð¸ÑÐ°Ð» ÐºÐ°ÐºÑƒÑŽ-Ñ‚Ð¾ Ð´Ð¸Ñ‡ÑŒ)
```php
$rick->hear('{default}', function() use ($rick) {
    $rick->say('Ðš ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸ÑŽ, Ñ Ð²Ð°Ñ Ð½Ðµ Ð¿Ð¾Ð½ÑÐ»...');
});
```

ÐœÐ°ÑÑÐ¸Ð² Ñ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ð¼Ð¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ÑÐ¼Ð¸:
```php
$rick->hear(['ÐŸÑ€Ð¸Ð²ÐµÑ‚','Hello','Hi'], function() use ($rick, $user) {
    $rick->say("Ð˜ Ñ‚ÐµÐ±Ðµ Ð¿Ñ€Ð¸Ð²ÐµÑ‚, {$user['firstname']}!");
});
```
ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ ÐºÐ»Ð°ÑÑÐ¾Ð² (Ð½Ð°Ð·Ð¾Ð²ÐµÐ¼ Ð¸Ñ… Events):
```php
$rick->hear(['/start','ÐœÐ°Ð³Ð°Ð·Ð¸Ð½','Ð“Ð»Ð°Ð²Ð½Ð°Ñ'], 'Shop::index');
$rick->hear('Ð¢Ð¾Ð²Ð°Ñ€Ñ‹', 'Shop::products');
$rick->hear('Ð‘Ð°Ð»Ð°Ð½Ñ', 'Shop::balance');
```
```php
class Shop
{
    public static function index($rick, $user, $updates)
    {
        $rick->say("Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ...");
    }

    public static function products($rick, $user, $updates)
    {
        $rick->say("ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ Ñ‚Ð¾Ð²Ð°Ñ€Ñ‹...");
    }

    public static function balance($rick, $user, $updates)
    {
        $rick->say("ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ Ð±Ð°Ð»Ð°Ð½Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ {$user['firstname']}...");
    }
}
```

Ð’ Ð¸Ð´ÐµÐ°Ð»Ðµ, Events Ð½ÑƒÐ¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ðº ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ñ‹ Ð² MVC, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Events Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑŽÑ‚ Ñ€Ð¾Ð»ÑŒ ÐºÐ°Ðº ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ð°, Ñ‚Ð°Ðº Ð¸ Ð¼Ð¾Ð´ÐµÐ»Ð¸, Ñ‚Ð¾ ÐµÑÑ‚ÑŒ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð² Ð‘Ð” Ð¼Ð¾Ð¶Ð½Ð¾ Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ð¸Ð· Event ÐºÐ»Ð°ÑÑÐ°.

# keyboard(string $keyboard OR array $keybaord OR false, $resize = true, $one_time = false)
ÐœÐµÑ‚Ð¾Ð´ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñ‹.

[ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾] `$keyboard` Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ñ€Ð°Ð½ÐµÐµ Ð¿Ð¾Ð´Ð³Ð½Ð¾Ñ‚Ð¾Ð²Ð»ÐµÐ½Ð½Ð¾Ð¹ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñ‹ Ð˜Ð›Ð˜ Ð¼Ð°ÑÑÐ¸Ð² Ñ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð¾Ð¹;

[ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾] `$resize` Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ `true` - Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸, `false` - Ð¾Ð³Ñ€Ð¾Ð¼Ð½Ñ‹Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸;

[ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾] `$one_time` ÑÐºÑ€Ñ‹Ð²Ð°Ñ‚ÑŒ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñƒ Ð¿Ð¾ÑÐ»Ðµ Ð½Ð°Ð¶Ð°Ñ‚Ð¸Ñ, Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ `false`;


ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€:
```php
$keyboard = $rick->keyboard([
        ['1','2','3'],
        ['4','5','6'],
        ['7','8','9'],
            ['0']
]);

$rick->say("ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑŽ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñƒ", $keyboard);
```

Ð§Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ±Ñ€Ð°Ñ‚ÑŒ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñƒ Ñƒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ, Ð½ÑƒÐ¶Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ `false` Ð² Ð¼ÐµÑ‚Ð¾Ð´Ðµ `$rick->keyboard()`

ÐŸÑ€Ð¸Ð¼ÐµÑ€:
```php
$rick->say("ÐšÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð° ÑÐ¿Ñ€ÑÑ‚Ð°Ð½Ð°", $rick->keyboard(false));
```

Ð—Ð°Ñ€Ð°Ð½ÐµÐµ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ðµ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñ‹, Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ðº Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð¹ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð¾Ð¹, Ñ‚Ð°Ðº Ð¸ Ñ inline:
```php
$keyboards = [
    'Ð¦Ð¸Ñ„Ñ€Ñ‹' => [
        ['1','2','3'],
        ['4','5','6'],
        ['7','8','9'],
            ['0']
    ],
    'Ð˜Ð½Ð»Ð°Ð¹Ð½' => [
        [
            ['text' => 'ÐšÐ¾Ð»Ð±ÑÐº1', 'callback_data' => 'some_callback_data1'],
        ],
        [
            ['text' => 'ÐšÐ¾Ð»Ð±ÑÐº2', 'callback_data' => 'some_callback_data2'],
            ['text' => 'ÐŸÐ¾Ð¸ÑÐº Ð² Google', 'url' => 'https://google.com'],
        ]
    ],
];

$rick->register('keyboards', $keyboards);

$rick->say("ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑŽ ÐºÐ»Ð°Ð²Ð¸Ñ‚Ð°Ñ€Ñƒ", $rick->keyboard('Ð¦Ð¸Ñ„Ñ€Ñ‹'));
$rick->say("ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑŽ inline-ÐºÐ»Ð°Ð²Ð¸Ñ‚Ð°Ñ€Ñƒ", $rick->inline('Ð˜Ð½Ð»Ð°Ð¹Ð½'));

// Ð¸Ð»Ð¸ Ð±ÐµÐ· register(), Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ Ð¸Ð· Ð¼Ð°ÑÑÐ¸Ð²Ð° $keyboards
$rick->say("ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑŽ ÐºÐ»Ð°Ð²Ð¸Ñ‚Ð°Ñ€Ñƒ", $rick->keyboard($keyboards['Ð¦Ð¸Ñ„Ñ€Ñ‹']);

// Ð¸Ð»Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‚Ð°Ðº
$keyboards = [
	'Ð¦Ð¸Ñ„Ñ€Ñ‹' => $rick->keyboard([
		['1','2','3'],
		['4','5','6'],
		['7','8','9'],
		    ['0']
    	]),
];

$rick->say("Ð•Ñ‰Ðµ Ð¾Ð´Ð¸Ð½ Ð¿Ñ€Ð¸Ð¼ÐµÑ€", $keyboards['Ð¦Ð¸Ñ„Ñ€Ñ‹']);
```

## inline(string $keyboard OR array $keyboard)
ÐœÐµÑ‚Ð¾Ð´ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ inline-ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñ‹.

[ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾] `$keyboard` Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ñ€Ð°Ð½ÐµÐµ Ð¿Ð¾Ð´Ð³Ð½Ð¾Ñ‚Ð¾Ð²Ð»ÐµÐ½Ð½Ð¾Ð¹ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñ‹ Ð˜Ð›Ð˜ Ð¼Ð°ÑÑÐ¸Ð² Ñ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð¾Ð¹;

ÐŸÑ€Ð¸Ð¼ÐµÑ€:
```php
$keyboard = [
	[
		['text' => 'ÐšÐ¾Ð»Ð±ÑÐº1', 'callback_data' => 'some_callback_data1'],
	],
	[
		['text' => 'ÐšÐ¾Ð»Ð±ÑÐº2', 'callback_data' => 'some_callback_data2'],
		['text' => 'ÐŸÐ¾Ð¸ÑÐº Ð² Google', 'url' => 'https://google.com'],
	]
];

$rick->say("ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑŽ inline-ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñƒ", $rick->inline($keyboard));
```

## callback(string $callback_data OR array $callback_data, $callback)
ÐœÐµÑ‚Ð¾Ð´ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ ÐºÐ¾Ð»Ð±ÑÐº Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð· inline-ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñ‹. Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ð¾ ÐºÐ°Ðº Ð¼ÐµÑ‚Ð¾Ð´ `hear()`.

[ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾] `$callback_data` Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· callback_data inline-ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñ‹;

[ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾] `$callback` Ð°Ð½Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¸Ð»Ð¸ Ð¼ÐµÑ‚Ð¾Ð´ ÐºÐ»Ð°ÑÑÐ°;


Ð’ `callback()` Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼ÐµÑ‚Ð¾Ð´ `notify($message)`, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ Ð²ÑÐ¿Ð»Ñ‹Ð²Ð°ÑŽÑ‰ÐµÐµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð² Ñ‡Ð°Ñ‚Ðµ Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¼.

ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ ÐºÐ¾Ð»Ð±ÑÐºÐ°:
```php
$rick->callback('some_callback_data1', function() use ($rick) {
    $rick->say('ÐšÐ¾Ð»Ð±ÑÐº ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½!');
});
```

ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸ÐµÐ¼:
```php
$rick->callback('some_callback_data1', function() use ($rick) {
    $rick->say('ÐšÐ¾Ð»Ð±ÑÐº ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½!');
    $rick->notify('ÐžÐ¹, Ñ‚ÑƒÑ‚ ÐµÑ‰Ðµ Ð¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ!');
});
```

ÐšÐ°Ðº Ð¸ Ð¼ÐµÑ‚Ð¾Ð´ `hear()`, Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð¾Ñ‚Ð²ÐµÑ‚ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ, ÐµÑÐ»Ð¸ Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð·Ð°Ð±Ñ‹Ð»Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ð´Ð»Ñ ÐºÐ¾Ð»Ð±ÑÐºÐ° Ð¸ Ñ‚. Ð¿.:
```php
$rick->callback('{default}', function() use ($rick) {
    $rick->say('ÐÐµÐ¸Ð·ÑÐ²ÐµÑ‚Ð½Ñ‹Ð¹ ÐºÐ¾Ð»Ð±ÑÐº...');
});
```
## execute(string $method, array $params, bool $is_file)
Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¼ÐµÑ‚Ð¾Ð´ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð»ÑŽÐ±Ñ‹Ñ… Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² Ð¸Ð· Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼Ð°.

[ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾] `$method` Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ð° Ð¸Ð· Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼Ð°, Ñ ÑƒÑ‡ÐµÑ‚Ð¾Ð¼ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, `sendMessage`;
[ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾] `$params` Ð¼Ð°ÑÑÐ¸Ð² Ñ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸ Ð¸Ð· Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼Ð°;

[ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾] `$is_file` ÐµÑÐ»Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°ÐµÑ‚ÑÑ Ñ„Ð°Ð¹Ð»Ð°, ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ `true`, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸;

ÐŸÑ€Ð¸Ð¼ÐµÑ€:
```php
$rick->execute('sendMessage', [
	'chat_id' => $user['chat_id'],
	'text' => 'ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ',
	'reply_markup' => $rick->keyboard('Ð¦Ð¸Ñ„Ñ€Ñ‹'),
]);
```
```php
use Aethletic\Telegram\File;

$rick->execute('sendDocument', [
	'chat_id' => $user['chat_id'],
	'caption' => 'ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ñ„Ð°Ð¹Ð»Ð°',
	'document' => File::upload('/storage/book.pdf'), // Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ ÑÑÑ‹Ð»ÐºÐ° Ð½Ð° Ñ„Ð°Ð¹Ð» (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ gif, pdf, zip)
]);
```

## sendMessage(...), sendDocument(...), sendPhoto(...)
ÐžÐ±ÐµÑ€Ñ‚ÐºÐ¸ Ð½Ð°Ð´ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð¼ `execute()`.

```php
$rick->sendMessage($user['chat_id'], 'Ð¢ÐµÐºÑÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ', $rick->keyboard('Ð¦Ð¸Ñ„Ñ€Ñ‹'));

// ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸ÑŽ `{{}}` Ð¸Ð· Ð¼ÐµÑ‚Ð¾Ð´Ð° `say()` Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‚Ð°Ðº Ð¶Ðµ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¼ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð¼ `randomMessage($message)`
$rick->sendMessage($user['chat_id'], $rick->randomMessage('Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ð½Ð° ÑƒÐ»Ð¸Ñ†Ðµ {{ÑÐ¾Ð»Ð½ÐµÑ‡Ð½Ð°Ñ|Ð´Ð¾Ð¶Ð´Ð»Ð¸Ð²Ð°Ñ|Ð¿Ð°ÑÐ¼ÑƒÑ€Ð½Ð°Ñ}} Ð¿Ð¾Ð³Ð¾Ð´Ð°.') , $rick->keyboard('Ð¦Ð¸Ñ„Ñ€Ñ‹'));
```

```php
use Aethletic\Telegram\File;

$rick->sendDocument($user['chat_id'], File::upload('/storage/book.pdf'), 'ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ñ„Ð°Ð¹Ð»Ð°', $rick->keyboard('Ð¦Ð¸Ñ„Ñ€Ñ‹'));
```

```php
use Aethletic\Telegram\File;

$rick->sendPhoto($user['chat_id'], File::upload('/storage/image.png'), 'ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÐºÐ°Ñ€Ñ‚Ð¸Ð½ÐºÐ¸', $rick->keyboard('Ð¦Ð¸Ñ„Ñ€Ñ‹'));
```
